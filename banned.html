<!doctype html>
<html lang="en" class="h-full">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gaming Hunds Mega Hub — Downloads</title>
  <meta name="description" content="Gaming Hund´s Mega Cracks" />
  <style>
    :root {
      --bg: #0f1116;
      --bg-card: #181b22;
      --bg-hover: #22252f;
      --accent: #3b82f6;
      --text: #e5e7eb;
      --text-dim: #9ca3af;
      --radius: 1rem;
      --transition: 0.25s ease;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: "Inter", sans-serif; background: var(--bg); color: var(--text); line-height: 1.5; }
    a { color: inherit; text-decoration: none; }
    button, select, input { font-family: inherit; }
    header { position: sticky; top: 0; z-index: 50; background: rgba(24,27,34,0.9); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255,255,255,0.05); padding: 1rem 2rem; display: flex; align-items: center; gap: 1rem; }
    header h1 { font-size: 1.5rem; font-weight: 700; }
    header p { font-size: 0.875rem; color: var(--text-dim); }
    main { max-width: 1200px; margin: 2rem auto; padding: 0 1.5rem; display: grid; grid-template-columns: 250px 1fr; gap: 2rem; }
    @media(max-width: 768px){ main { grid-template-columns: 1fr; } }
    aside { background: var(--bg-card); border-radius: var(--radius); padding: 1rem; }
    aside h2 { font-size: 1rem; margin-bottom: 1rem; font-weight: 600; }
    .chip { display: inline-block; padding: .4rem .8rem; margin: .25rem; border-radius: 999px; font-size: 0.85rem; background: var(--bg-hover); color: var(--text-dim); cursor: pointer; transition: var(--transition); }
    .chip.active, .chip:hover { background: var(--accent); color: white; }
    .filters { display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap; }
    .filters input, .filters select { flex: 1; padding: 0.6rem 1rem; border-radius: var(--radius); border: none; background: var(--bg-card); color: var(--text); transition: var(--transition); }
    .filters input:focus, .filters select:focus { outline: 2px solid var(--accent); }
    #grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 1.5rem; }
    .card { background: var(--bg-card); border-radius: var(--radius); padding: 1.2rem; display: flex; flex-direction: column; transition: var(--transition); border: 1px solid transparent; }
    .card:hover { transform: translateY(-4px); border-color: var(--accent); background: var(--bg-hover); }
    .card h3 { font-size: 1.1rem; font-weight: 600; margin-bottom: 0.3rem; }
    .card p { font-size: 0.9rem; color: var(--text-dim); flex-grow: 1; margin-bottom: 1rem; }
    .btn { display: inline-block; text-align: center; padding: 0.6rem 1rem; border-radius: var(--radius); background: var(--accent); color: white; font-weight: 500; transition: var(--transition); }
    .btn:hover { opacity: 0.9; }
    #empty { text-align: center; padding: 2rem; color: var(--text-dim); border: 1px dashed rgba(255,255,255,0.1); border-radius: var(--radius); display: none; }
    footer { max-width: 1200px; margin: 2rem auto; padding: 1rem 1.5rem; font-size: 0.8rem; color: var(--text-dim); text-align: center; }
  </style>
</head>
<body>
<header>
  <div>
    <h1>Gaming Hunds Mega Cracks</h1>
    <p>Fast • Modern</p>
  </div>
</header>

<main>
  <aside>
    <h2>Categories</h2>
    <div id="categories"></div>
    <button id="resetCats" style="margin-top:1rem;font-size:0.8rem;text-decoration:underline;cursor:pointer;">Reset</button>
  </aside>

  <section>
    <div class="filters">
      <input id="search" type="search" placeholder="Search…" />
      <select id="sort">
        <option value="newest">Newest</option>
        <option value="popular">Most Popular</option>
        <option value="az">A → Z</option>
        <option value="size">File Size</option>
      </select>
    </div>
    <div id="grid"></div>
    <div id="empty">No results found.</div>
  </section>
</main>

<footer>
  © <span id="year"></span> Gaming Hunds Mega Hub — For educational purposes only.
</footer>

<script>
const state = { items: [], categories: [], activeCats: new Set(), query:'', sort:'newest' };

async function loadJSON(path){ const res = await fetch(path); return await res.json(); }

function renderCategories(){
  const wrap=document.getElementById('categories'); wrap.innerHTML='';
  state.categories.forEach(cat=>{
    const el=document.createElement('div');
    el.textContent=cat.name;
    el.className="chip"+(state.activeCats.has(cat.id)?" active":"");
    el.onclick=()=>{ 
      state.activeCats.has(cat.id) ? state.activeCats.delete(cat.id) : state.activeCats.add(cat.id); 
      render(); 
    };
    wrap.appendChild(el);
  });
}

function renderGrid(){
  const grid=document.getElementById('grid'); 
  const empty=document.getElementById('empty');
  let items=[...state.items];

  if(state.query){
    items=items.filter(i=>i.title.toLowerCase().includes(state.query.toLowerCase()));
  }
  if(state.activeCats.size>0){
    items=items.filter(i=>i.categoryIds.some(c=>state.activeCats.has(c)));
  }

  if(state.sort==="az") items.sort((a,b)=>a.title.localeCompare(b.title));
  if(state.sort==="size") items.sort((a,b)=>a.sizeMB-b.sizeMB);
  if(state.sort==="popular") items.sort((a,b)=>b.downloads-a.downloads);
  if(state.sort==="newest") items.sort((a,b)=>new Date(b.dateAdded)-new Date(a.dateAdded));

  grid.innerHTML='';
  if(items.length===0){ empty.style.display="block"; return; }
  empty.style.display="none";

  items.forEach(i=>{
    const card=document.createElement('div');
    card.className="card";
    const firstLink=i.links && i.links.length>0 ? i.links[0] : null;
    card.innerHTML=`
      <h3>${i.title}</h3>
      <p>${i.description}</p>
      <span style="font-size:0.8rem;color:var(--text-dim);margin-bottom:.6rem;">${i.sizeMB} MB</span>
      ${firstLink ? `<a href="${firstLink.url}" class="btn">${firstLink.label}</a>` : ""}
    `;
    grid.appendChild(card);
  });
}

function render(){ renderCategories(); renderGrid(); }

(async function init(){
  state.items=await loadJSON("cracks.json");
  state.categories=await loadJSON("categories.json");
  render();

  document.getElementById("search").oninput=e=>{ state.query=e.target.value; render(); }
  document.getElementById("sort").onchange=e=>{ state.sort=e.target.value; render(); }
  document.getElementById("resetCats").onclick=()=>{ state.activeCats.clear(); render(); }
  document.getElementById("year").textContent=new Date().getFullYear();
})();
</script>
</body>
</html>
